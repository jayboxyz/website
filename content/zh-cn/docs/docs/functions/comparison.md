比较函数和运算符
==================================

比较运算符
--------------------

|操作符|说明|
| :------- | :------------------------------------------ |
| `<` |小于|
| `>` |大于|
| `<=` |小于等于|
| `>=` |大于等于|
| `=` |相等|
| `<>` |不相等|
| `!=` |不等（非标准但流行的语法） |

范围运算符：BETWEEN
-----------------------

`BETWEEN`运算符测试值是否在指定范围内。语法使用`value BETWEEN min AND max`，其中：

在2和6之间选择3；

上面显示的语句相当于以下语句：

选择3>=2 AND 3<=6；

要测试一个值是否不在指定的范围内，使用`NOT BETWEEN`：

选择3不在2和6之间；

上面显示的语句相当于以下语句：

SELECT 3<2或3>6，则返回查询结果。

`BETWEEN`或`NOT BETWEEN`语句中的`NULL`使用适用于上述等效表达式的标准`NULL`求值规则进行求值：

在2和4之间选择NULL; -- null
    
SELECT 2与6相与； --空
    
在1和NULL之间取2;--false
    
SELECT 8空与6之间； -- false

`BETWEEN`和`NOT BETWEEN`运算符也可用于评价任何可排序的类型。例如，一个`VARCHAR`：

在“约翰”和“林戈”中选出“保罗”；--正确

`BETWEEN`和`NOT BETWEEN`的value、min和max参数不能是同一种类型。例如，如果你问John是否在2.3和35.2之间，Presto就会产生一个错误。

是否为空和是否非空
-----------------------

`IS NULL`和`IS NOT NULL`操作符用于检测一个值是否为null（未定义），它们都对所有数据类型起作用。

使用`NULL`和`IS NULL`求值为true：

select NULL是否为空； -- true

但其他任何常数都不是：

SELECT 3.0是否为空；-- false

区别于和不区别于
-----------------------------------------

在SQL中`NULL`值表示未知值，因此任何涉及`NULL`的比较都会产生`NULL`。`IS DISTINCT FROM`和`IS NOT DISTINCT FROM`运算符将`NULL`视为已知值，并且两者都
运算符保证即使存在`NULL`输入时，结果也为真或假：

从NULL中选择NULL是否从NULL中分离；--false
    
选择空值与空值没有区别； -- true

在上面的示例中，`NULL`值与`NULL`并不明显。当您比较可能包含`NULL`的值时，使用这些运算符来保证`TRUE`或`FALSE`结果。

下面的真值表显示了对`IS DISTINCT FROM`和`IS NOT DISTINCT FROM`中`NULL`的处理：

| a | b | a = b | a <> b | a离散b | a不离散b |
| :----- | :----- | :------ | :------ | :----------- | :--------------- |
|置位|置位|置位|置位|置位|置位|置位|置位|
|`1`|`2`|`FALSE`|`TRUE`|`TRUE`|`FALSE`|
| `1` | `NULL` | `NULL` | `NULL` | `TRUE` | `FALSE` |
| `NULL` | `NULL` | `NULL` | `NULL` | `FALSE` | `TRUE` |

最高和最低
------------------

这些函数不是SQL标准中的函数，而是通用的扩展。与Presto中的大多数其他函数一样，如果任何参数为空，它们将返回null。注意，在其他一些数据库，如PostgreSQL，只有当所有参数都是null时，它们才返回null。

支持的类型有：`DOUBLE`,`BIGINT`,`VARCHAR`,`TIMESTAMP`,`TIMESTAMP with TIME ZONE`,`DATE`，时间分区类型，时间分区类型。

**greatest(value1, value2, \..., valueN)** -\> \【与输入值相同\】

返回所提供值中的最大值。

**least(value1, value2, \..., valueN)** -\> \【与输入值相同\】

返回给定值中最小的值。


量化的比较谓词：ALL、ANY和SOME
---------------------------------------------------

`ALL`、`ANY`和`SOME`量词可以与比较运算符一起使用，方式如下：

"```{.none}"
表达式运算符量化符（子查询）
```

例如：

选择'hello' = ANY（值'hello'，'world'）; --正确
    
SELECT 21 <全部（值19,20,21）; --错误
    
SELECT 42 >=某个值（SELECT 41联合所有选择42联合所有选择43） ; --真实

以下是一些量词和比较运算符组合的含义：

|表达式|意义|
| :--------------- | :----------------------------------------------------------- |
| `A = ALL (...)`|当`A`等于所有值时，赋值为`true`。|
| `A<>ALL(...)|当`A`不匹配任何值时，赋值为`true`。|
| `A < ALL (...)` |当`A`小于最小值时，求值为`true`。|
| `A = ANY (...)`|当`A`等于任何值时，求值为`true`。此形式相当于`A IN (.)'。|
| `A`<>任何值（.）|当`A`与一个或多个值不匹配时，评价为`true'。|
| `A<ANY(.)`|当`A`小于最大值时，求`true'。|
